# Exploits
## [pyc_proxy.py](./pyc_proxy.py) - DLL for Injecting into BCTextEncoder to Capture User Input

**Purpose**  
This script streamlines the process of working with decompiled Python bytecode (`.pyc` files) by providing:
- Guidance on decompiling `.pyc` files and recompiling them after modifications.
- A listing feature to detect functions and main blocks in a Python script.
- An injection mechanism to prepend a `subprocess.run()` command into each function or main block.

**Usage**  
1. **Help**  
   ```bash
   python3 pyc-proxy.py help
   ```
   - Shows guidance on decompiling and recompiling `.pyc` files.

2. **List Functions**  
   ```bash
   python3 pyc-proxy.py list my_script.py
   ```
   - Lists all function definitions and whether a `main` block (`if __name__ == "__main__":`) exists.

3. **Inject Commands**  
   ```bash
   python3 pyc-proxy.py inject my_script.py "echo Hello from injected code!" --output patched_script.py
   ```
   - Injects the specified command at the start of every function and in the main block, then saves the result to `patched_script.py`. If you omit `--output`, the modified script is printed to stdout instead.

**Recompiling**  
After you have made changes or injected commands, you can recompile your Python file into a `.pyc` with:
```bash
python3 -m compileall my_script.py --invalidation-mode unchecked-hash
```
The `.pyc` file will be placed in a `__pycache__` directory.
